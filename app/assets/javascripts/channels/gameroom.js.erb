$( document ).on('turbolinks:load', function() {
    let wrapper = $('#gamewrapper');

    App.gameRoom = App.cable.subscriptions.create({channel: "GameroomChannel", room: wrapper.data('room-id')}, {
        connected: function () {
            // Called when the subscription is ready for use on the server
        },

        disconnected: function () {
            // Called when the subscription has been terminated by the server
        },

        received: function (data) {
            console.log('websocket data recieved on channel   ' + JSON.parse(this.identifier).room)
            gv.callback(data)
        }
    })
});